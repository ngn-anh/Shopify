{% for address in customer.addresses %}
  <!-- address details -->

  <!-- Edit icon -->
  <a href="#" onclick="openEditModal('{{ address.id }}')">Edit</a>

  {% if address.id == selected_address_id %}
    <!-- Popup modal for editing -->
    <div id="editModal" class="modal">
      <div class="modal-content">
        <span class="close" onclick="closeEditModal()">&times;</span>
        <!-- Display the corresponding data ID -->
        <p>Edit Address: {{ address.id }}</p>
        <!-- Form content -->
        {% form 'customer_address', address %}
          <!-- form content -->
        {% endform %}
      </div>
    </div>
  {% endif %}
{% endfor %}

<script>
  function openEditModal(addressId) {
    // Set the selected address ID
    selected_address_id = addressId;
    // Open the edit modal
    document.getElementById("editModal").style.display = "block";
  }

  function closeEditModal() {
    // Close the edit modal
    document.getElementById("editModal").style.display = "none";
  }
</script>
